package Biblioteca_2_fase;


import java.util.HashSet;
import java.util.InputMismatchException;
import java.util.Scanner;

public class Biblioteca {
    Scanner scan = new Scanner(System.in);

    private HashSet<Livro> livros;
    private HashSet<Revista> revistas;

    public Biblioteca(){
        this.livros = new HashSet<>();
        this.revistas = new HashSet<>();
    }

    public void adicionarLivro(Scanner scan){
        System.out.println("Digite o autor do livro: ");
        String autor = scan.nextLine();
        System.out.println("Digite o título do livro: ");
        String titulo = scan.nextLine();
        Genero genero = null;

        System.out.println("Selecione o gênero do livro: "+"\n1) Ação "+"\n2)Aventura"+"\n3) Romance"+
                "\n4) Terror"+"\n5) Suspense"+"\n6) Informátivo");
        System.out.println("Selecione uma opção: ");
        int opcaoUsuario = scan.nextInt();
        try{

            switch (opcaoUsuario){

                case 1:
                    genero = Genero.AÇÃO;

                case 2:
                    genero = Genero.AVENTURA;

                case 3:
                    genero = Genero.ROMANCE;

                case 4:
                    genero = Genero.TERROR;

                case 5:
                    genero = Genero.SUSPENSE;

                case 6:
                    genero = Genero.INFORMÁTIVO;

                default:
                    System.out.println("Opção inválida, tente novamente...");
            }


        }catch (InputMismatchException e){
            System.out.println("Opção inválida, tente novamente...");
        }
        Livro livro1 = new Livro(autor,titulo,genero);
        System.out.println("Livro adicionado com sucesso!!!");
        livros.add(livro1);
    }

    public void removerLivro(Scanner scan){
        System.out.println("Digite o título do livro que você deseja remover: ");
        String tituloRemove = scan.nextLine();

        for(Livro livro : livros){
            if (livro.equals(tituloRemove)){

                livros.remove(livro);
                System.out.println("Livro removido com sucesso!!!");
            }
        }
    }

    public void adicionarRevista(Scanner scan){

        System.out.println("Digite o autor da revista: ");
        String autorRevista = scan.nextLine();
        System.out.println("Digite o título da revista: ");
        String tituloRevista = scan.nextLine();

        for (Revista revista : revistas){

            if(tituloRevista.equals(revista)){
                System.out.println("Livro já adicionado, tente com outro livro.");
            }else if(autorRevista.equals(revista)){
                System.out.println("Autor já adicionado, tente com outro autor.");
            }else{
                Revista revista1 = new Revista(autorRevista,tituloRevista);
                revistas.add(revista1);
                System.out.println("Revista adicionada com sucesso!!!");
            }
        }
    }

    public void removerRevista(Scanner scan){
        System.out.println("Digite a revista que você quer remover: ");
        String tituloRemove = scan.nextLine();

        if(revistas.isEmpty()){
            System.out.println("Não há revistas a serem removidas.");
        }else{
            for (Revista revista : revistas){
                if (revista.equals(tituloRemove)){
                    revistas.remove(revista);
                    System.out.println("Revista removida com sucesso!!!");
                }

            }
        }
    }

    public void listarLivros(){

       if(livros.isEmpty()){
           System.out.println("Não há livros cadastrados.");
       }else{
           for(Livro livro : livros){
               System.out.println(livro);
           }
       }
    }

    public void listarRevistas(){

        if(revistas.isEmpty()){
            System.out.println("Não há revistas cadastradas.");
        }else{
            for(Revista revista : revistas){
                System.out.println(revista);
            }
        }
    }
}
